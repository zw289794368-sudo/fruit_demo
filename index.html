<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #b76ff7; -webkit-text-stroke: #b76ff7}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none}
    span.s8 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s14 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Fruit Ninja: AI Hand Tracking</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- MediaPipe Libraries --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">"anonymous"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">"anonymous"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">"anonymous"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">"anonymous"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* --- CORE LAYOUT FIXES FOR MOBILE --- */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">html</span><span class="s8">,</span><span class="s1"> </span><span class="s6">body</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* Use dynamic viewport height if supported, fallback to JS resize */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100</span><span class="s5">dvh</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s4"> </span><span class="s5">hidden</span><span class="s8">;</span><span class="s4"> </span><span class="s1">/* Keep hidden to prevent bounce */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s1"> <span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">radial-gradient(circle</span><span class="s8">,</span><span class="s1"> #4a3b32 </span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> #2d241e </span><span class="s9">100%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-size:</span><span class="s4"> </span><span class="s5">cover</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s10">'Segoe UI'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Tahoma</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Geneva</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Verdana</span><span class="s8">,</span><span class="s4"> </span><span class="s1">sans-serif</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">user-select:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-user-select:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* RTL Support */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">html</span><span class="s8">[</span><span class="s5">dir</span><span class="s8">=</span><span class="s10">"rtl"</span><span class="s8">]</span><span class="s1"> </span><span class="s6">body</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s1">'Segoe UI'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">Tahoma</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'Arial'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">sans-serif</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#game-container</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">/* Will be overwritten by JS */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#gameCanvas</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">block</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">transparent</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* --- Camera Elements --- */</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Updated: Added playsinline attributes in HTML, ensure display is none but accessible */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#video-input</span><span class="s4"> </span><span class="s8">{</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#camera-preview</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s1"> <span class="Apple-converted-space">     </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">right:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s1"> <span class="Apple-converted-space">   </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s5">auto</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space">     </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space">   </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">75px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space">   </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">50</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scaleX(</span><span class="s9">-1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #000</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.7</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">html</span><span class="s8">[</span><span class="s5">dir</span><span class="s8">=</span><span class="s10">"rtl"</span><span class="s8">]</span><span class="s4"> </span><span class="s1">#camera-preview</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">right:</span><span class="s1"> </span><span class="s5">auto</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#ui-layer</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">space-between</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">10</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* Safe area for notched phones */</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding-left:</span><span class="s4"> </span><span class="s1">env(safe-area-inset-left)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">padding-right:</span><span class="s4"> </span><span class="s1">env(safe-area-inset-right)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-sizing:</span><span class="s1"> </span><span class="s5">border-box</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.hud-top</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">space-between</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">flex-start</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.8</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s4"> </span><span class="s1">linear-gradient(to</span><span class="s4"> </span><span class="s1">bottom</span><span class="s8">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.6</span><span class="s1">)</span><span class="s8">,</span><span class="s4"> </span><span class="s1">transparent)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.hud-column</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">gap:</span><span class="s1"> </span><span class="s9">2px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">40px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">all</span><span class="s1"> </span><span class="s9">0.3s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* --- LANDSCAPE ADAPTATION --- */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span>@</span><span class="s1">media</span><span class="s4"> (</span><span class="s1">orientation:</span><span class="s4"> </span><span class="s1">landscape</span><span class="s4">) </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>.hud-column {</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">.hud-column:last-child</span><span class="s4"> </span><span class="s8">{</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">#timer</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">0px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">24px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">#camera-preview</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">80px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">60px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">5px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">right:</span><span class="s1"> </span><span class="s9">5px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">.lang-switch</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* Scale down menu in landscape to fit small height screens */</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s6">#menu-screen</span><span class="s4"> </span><span class="s6">h1</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">32px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s6">#menu-screen</span><span class="s4"> </span><span class="s6">h2</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">#menu-screen</span><span class="s4"> </span><span class="s1">.tutorial-box</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">margin-bottom:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s2">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">#menu-screen</span><span class="s1"> </span><span class="s6">.t-item</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">12px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s6">#menu-screen</span><span class="s4"> </span><span class="s6">.mission-info</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s1">min-width:</span><span class="s4"> </span><span class="s9">200px</span><span class="s4"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s6">#menu-screen</span><span class="s4"> </span><span class="s6">.btn</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">padding:</span><span class="s4"> </span><span class="s9">8px</span><span class="s4"> </span><span class="s9">30px</span><span class="s4"> </span><span class="s1">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s2">font-size:</span><span class="s4"> </span><span class="s9">18px</span><span class="s4"> </span><span class="s1">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s2">margin-top:</span><span class="s4"> </span><span class="s9">5px</span><span class="s4"> </span><span class="s1">!important</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s6">#cam-loading</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.level-badge</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #ff00de</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">18px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">222</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">inline-block</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.score-box</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">24px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.score-box</span><span class="s1"> </span><span class="s6">span</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #ffd700</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.target-box</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">16px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #aaa</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.timer-box</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">32px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">2px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.2</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.timer-box.warning</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #ff4444</span><span class="s8">;</span><span class="s1"> </span><span class="s2">animation:</span><span class="s1"> </span><span class="s5">pulse</span><span class="s1"> </span><span class="s9">1s</span><span class="s1"> </span><span class="s5">infinite</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.lives-box</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">24px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">letter-spacing:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.screen-overlay</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.85</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">auto</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">opacity</span><span class="s1"> </span><span class="s9">0.3s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">20</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">5px</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* Handle overlay content overflow on small screens */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow-y:</span><span class="s1"> </span><span class="s5">auto</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* --- Orientation Lock --- */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#orientation-lock</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">fixed</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #111</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">10000</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.rotate-icon</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">50px</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">rotate-anim</span><span class="s4"> </span><span class="s9">2s</span><span class="s4"> </span><span class="s1">infinite</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.lock-btn</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">25px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">25px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">transparent</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #aaa</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">14px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">pointer</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">all</span><span class="s1"> </span><span class="s9">0.3s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.lock-btn:hover</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s4"> </span><span class="s1">rotate-anim</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">90deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Show lock screen only in portrait */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span>@</span><span class="s1">media</span><span class="s4"> </span><span class="s1">screen</span><span class="s4"> </span><span class="s1">and</span><span class="s4"> (</span><span class="s1">orientation:</span><span class="s4"> </span><span class="s1">portrait</span><span class="s4">) </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">/* #orientation-lock { display: flex; } */</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">h1</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">42px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> #ff00de</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">20px</span><span class="s1"> #ff00de</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">h2</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #ffd700</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">28px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">20px</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">p</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #ddd</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">18px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">max-width:</span><span class="s1"> </span><span class="s9">80%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">line-height:</span><span class="s1"> </span><span class="s9">1.5</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.btn</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">linear-gradient(</span><span class="s9">45deg</span><span class="s8">,</span><span class="s1"> #ff9a9e </span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> #fad0c4 </span><span class="s9">99%</span><span class="s8">,</span><span class="s1"> #fad0c4 </span><span class="s9">100%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">15px</span><span class="s1"> </span><span class="s9">50px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">24px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">pointer</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">15px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.4</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s1"> </span><span class="s5">transform</span><span class="s1"> </span><span class="s9">0.1s</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-transform:</span><span class="s4"> </span><span class="s5">uppercase</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">outline:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.btn:active</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">0.95</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn:disabled</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #555</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #888</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">not-allowed</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.btn-home</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">linear-gradient(</span><span class="s9">45deg</span><span class="s8">,</span><span class="s1"> #4facfe </span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> #00f2fe </span><span class="s9">100%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.hidden</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s1"> </span><span class="s11">!important</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">pulse</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">1</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">1.1</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">scale(</span><span class="s9">1</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">shake</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">1px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">0deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">10%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">-1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-2px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">-1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">20%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">-3px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">30%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">3px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">2px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">0deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">40%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-1px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">-1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">2px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">-1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">60%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">-3px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">1px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">0deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">70%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">3px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">1px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">-1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">80%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">-1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-1px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">90%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">2px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">0deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s9">100%</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s1">translate(</span><span class="s9">1px</span><span class="s8">,</span><span class="s4"> </span><span class="s9">-2px</span><span class="s1">)</span><span class="s4"> </span><span class="s1">rotate(</span><span class="s9">-1deg</span><span class="s1">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.shake-effect</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">animation:</span><span class="s1"> </span><span class="s5">shake</span><span class="s1"> </span><span class="s9">0.5s</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.mission-info</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-align:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.2</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-width:</span><span class="s1"> </span><span class="s9">280px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.mission-item</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">18px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.mission-val</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #ffd700</span><span class="s8">;</span><span class="s1"> </span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.tutorial-box</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">gap:</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">flex-wrap:</span><span class="s1"> </span><span class="s5">wrap</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.t-item</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> </span><span class="s9">15px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #444</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #ddd</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">16px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">gap:</span><span class="s1"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.t-icon</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">24px</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* --- Language Switcher --- */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.lang-switch</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">top:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">right:</span><span class="s1"> </span><span class="s5">auto</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">100</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">gap:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.lang-btn</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">pointer</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">5px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.lang-btn.active</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #ff00de</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-color:</span><span class="s1"> #ff00de</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">html</span><span class="s8">[</span><span class="s5">dir</span><span class="s8">=</span><span class="s10">"rtl"</span><span class="s8">]</span><span class="s4"> </span><span class="s1">.lang-switch</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">right:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">left:</span><span class="s1"> </span><span class="s5">auto</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Loading Spinner */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">#cam-loading</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #00ffff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-weight:</span><span class="s1"> </span><span class="s5">bold</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-top:</span><span class="s1"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">18px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">text-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">5px</span><span class="s1"> #00ffff</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.spinner</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">inline-block</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">3px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border-top-color:</span><span class="s1"> #fff</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">spin</span><span class="s4"> </span><span class="s9">1s</span><span class="s4"> </span><span class="s1">ease-in-out</span><span class="s4"> </span><span class="s1">infinite</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">margin-right:</span><span class="s1"> </span><span class="s9">10px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">vertical-align:</span><span class="s4"> </span><span class="s5">middle</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">spin</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s5">to</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotate(</span><span class="s9">360deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Main Game Container --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-container"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"gameCanvas"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"camera-preview"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Added playsinline attributes is CRITICAL for mobile Safari/Chrome --&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">video</span><span class="s4"> </span><span class="s1">id</span><span class="s3">=</span><span class="s5">"video-input"</span><span class="s4"> </span><span class="s1">playsinline</span><span class="s4"> </span><span class="s1">webkit-playsinline</span><span class="s4"> </span><span class="s1">muted</span><span class="s4"> </span><span class="s1">autoplay</span><span class="s3">&gt;&lt;/</span><span class="s6">video</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"ui-layer"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hud-top"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"hud-column"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"level-badge"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"level-badge"</span><span class="s3">&gt;</span><span class="s1">Level 1</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"score-box"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"scoreLabel"</span><span class="s3">&gt;</span><span class="s1">Score</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1">:<span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"score-val"</span><span class="s3">&gt;</span><span class="s1">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> / </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"target-val"</span><span class="s3">&gt;</span><span class="s1">100</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"timer-box"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"timer"</span><span class="s3">&gt;</span><span class="s1">60</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hud-column"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"align-items: flex-end;"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"lives-box"</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"lives"</span><span class="s3">&gt;</span><span class="s1">❤️❤️❤️</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Main Menu --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"menu-screen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen-overlay"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"lang-switch"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lang-btn active"</span><span class="s4"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s1">"setLang('en')"</span><span class="s3">&gt;</span><span class="s4">English</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"lang-btn"</span><span class="s1"> </span><span class="s2">onclick</span><span class="s3">=</span><span class="s5">"setLang('ar')"</span><span class="s3">&gt;</span><span class="s1">العربية</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"gameTitle"</span><span class="s3">&gt;</span><span class="s1">🍉 Fruit Ninja 🥝</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"gameSubtitle"</span><span class="s3">&gt;</span><span class="s1">Challenge Mode</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tutorial-box"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-icon"</span><span class="s3">&gt;</span><span class="s1">🍎</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"tutSlice"</span><span class="s3">&gt;</span><span class="s1">Slice fruits</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-icon"</span><span class="s3">&gt;</span><span class="s1">💣</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"tutBomb"</span><span class="s3">&gt;</span><span class="s1">Bombs hurt</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"t-icon"</span><span class="s3">&gt;</span><span class="s1">⏳</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"tutTime"</span><span class="s3">&gt;</span><span class="s1">Beat the timer</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-info"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin:0; font-size: 20px; color: #fff;"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"readyMsg"</span><span class="s3">&gt;</span><span class="s4">Ready for the challenge?</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin:5px 0 0 0; font-size: 16px; color: #ffd700;"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"levelLabel"</span><span class="s3">&gt;</span><span class="s1">Level 1 Goal</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1">: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"menu-target"</span><span class="s3">&gt;</span><span class="s1">100</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"pointsLabel"</span><span class="s3">&gt;</span><span class="s1">Points</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"cam-loading"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"spinner"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"cam-loading-text"</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"camLoading"</span><span class="s3">&gt;</span><span class="s1">Initializing Camera... Please Wait</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"start-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnStart"</span><span class="s3">&gt;</span><span class="s4">Start Game</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"camera-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"margin-top:15px; background:linear-gradient(45deg, #11998e, #38ef7d); font-size: 18px;"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnCamera"</span><span class="s3">&gt;</span><span class="s4">📷 Enable Camera Control</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Level Clear Screen --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"level-clear-screen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen-overlay hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#4dff4d; text-shadow:0 0 20px #4dff4d;"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"levelCleared"</span><span class="s3">&gt;</span><span class="s4">🎉 Level Cleared!</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-info"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"nextLevel"</span><span class="s3">&gt;</span><span class="s4">Next Level</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4">: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-val"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-level-num"</span><span class="s3">&gt;</span><span class="s4">2</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"targetScore"</span><span class="s3">&gt;</span><span class="s4">Goal</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4">: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-val"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-target"</span><span class="s3">&gt;</span><span class="s4">150</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"pointsLabel"</span><span class="s3">&gt;</span><span class="s4">Pts</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-item"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"timeLimit"</span><span class="s3">&gt;</span><span class="s4">Time</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4">: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mission-val"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-time"</span><span class="s3">&gt;</span><span class="s4">60s</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"next-level-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnNext"</span><span class="s3">&gt;</span><span class="s4">Next Level</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"level-home-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn btn-home"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnHome"</span><span class="s3">&gt;</span><span class="s4">Home</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Game Over Screen --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"game-over-screen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen-overlay hidden"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#ff4444;"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"gameOver"</span><span class="s3">&gt;</span><span class="s4">Game Over</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"reachedLevel"</span><span class="s3">&gt;</span><span class="s4">You reached</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4"> </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"final-level"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#fff; font-weight:bold;"</span><span class="s3">&gt;</span><span class="s4">Level 1</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"levelScore"</span><span class="s3">&gt;</span><span class="s4">Level Score</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s4">: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"final-score"</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color:#ffd700; font-weight:bold;"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"restart-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnTryAgain"</span><span class="s3">&gt;</span><span class="s4">Try Again</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"home-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn btn-home"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnHome"</span><span class="s3">&gt;</span><span class="s4">Home</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Victory Screen --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"victory-screen"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"screen-overlay hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s1"> </span><span class="s2">style</span><span class="s3">=</span><span class="s5">"font-size: 56px;"</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"victory"</span><span class="s3">&gt;</span><span class="s1">🏆 Victory! 🏆</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s5">"victoryMsg"</span><span class="s3">&gt;</span><span class="s1">All 10 levels completed!</span><span class="s3">&lt;</span><span class="s6">br</span><span class="s3">&gt;</span><span class="s1">You are a true Fruit Master!</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"victory-btn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn"</span><span class="s4"> </span><span class="s2">data-t</span><span class="s3">=</span><span class="s1">"btnPlayAgain"</span><span class="s3">&gt;</span><span class="s4">Play Again</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> translations </span><span class="s8">=</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>en</span><span class="s8">:</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameTitle</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🍉 Fruit Ninja 🥝"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameSubtitle</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Zen Mode"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutSlice</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Slice fruits"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutBomb</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Bombs hurt"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutTime</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Beat the timer"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>readyMsg</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Ready for the challenge?"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Level 1 Goal"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pointsLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Points"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startMsg</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Start from Level 1"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnStart</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Start Game"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnCamera</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"📷 Enable Camera Control"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camLoading</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Initializing Camera... Please Wait"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camWaitHand</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Camera Active. Please show your hand..."</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camReady</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"✅ Hands Detected! Ready!"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camError</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Camera Error. Please check permissions."</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>scoreLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Score"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>targetLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Goal"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelCleared</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🎉 Level Cleared!"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>nextLevel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Next Level"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>targetScore</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Goal"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timeLimit</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Time"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnNext</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Next Level"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameOver</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Game Over"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reachedLevel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"You reached"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelScore</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Final Score"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnTryAgain</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Try Again"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnHome</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Home"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>victory</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🏆 Victory! 🏆"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>victoryMsg</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"All 10 levels completed!&lt;br&gt;You are a true Fruit Master!"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnPlayAgain</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Play Again"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelPrefix</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"Level"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ar</span><span class="s8">:</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameTitle</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🍉 نينجا الفواكه 🥝"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameSubtitle</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"وضع الزن"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutSlice</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"قطع الفواكه"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutBomb</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"احذر القنابل"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>tutTime</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"اسبق الوقت"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>readyMsg</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"هل أنت مستعد للتحدي؟"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"هدف المستوى 1"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>pointsLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"نقاط"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startMsg</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"ابدأ من المستوى 1"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnStart</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"ابدأ اللعبة"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>btnCamera</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"📷 تمكين التحكم بالكاميرا"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camLoading</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"جار تهيئة الكاميرا... يرجى الانتظار"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camWaitHand</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"الكاميرا نشطة. يرجى إظهار يدك..."</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>camReady</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"✅ تم اكتشاف اليد! جاهز!"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>camError</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"خطأ في الكاميرا. يرجى التحقق من الأذونات."</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>scoreLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"النقاط"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>targetLabel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"الهدف"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelCleared</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🎉 اكتمل المستوى!"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>nextLevel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"المستوى التالي"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>targetScore</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"الهدف"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timeLimit</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"الوقت"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnNext</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"المستوى التالي"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameOver</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"انتهت اللعبة"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reachedLevel</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"وصلت إلى"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelScore</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"النتيجة النهائية"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnTryAgain</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"حاول مرة أخرى"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnHome</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"القائمة الرئيسية"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>victory</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"🏆 نصر! 🏆"</span><span class="s8">,</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>victoryMsg</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"أكملت جميع المستويات العشرة!&lt;br&gt;أنت سيد الفواكه الحقيقي!"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>btnPlayAgain</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"العب مرة أخرى"</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelPrefix</span><span class="s8">:</span><span class="s1"> </span><span class="s10">"مستوى"</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> currentLang </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'en'</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">(</span><span class="s11">function</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> levels </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">1</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">45</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">100</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">90</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.0</span><span class="s8">,</span><span class="s1"> <span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Warm-up: No bombs!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"إحماء: لا توجد قنابل!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">2</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">45</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">150</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">85</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.05</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Caution: Bombs ahead!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"تحذير: احذر القنابل!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">3</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">40</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">200</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">80</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.10</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Speed up: Be quick!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"أسرع: كن سريعاً!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">4</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">40</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">250</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">75</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.15</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Challenge: Fast hands!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"تحدي: أيدي سريعة!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">5</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">35</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">300</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">70</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.20</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Halfway: Stay focused"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"منتصف الطريق: ركز جيداً"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">6</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">35</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">350</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">65</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.22</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Chaos: Fruit rain!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"فوضى: مطر الفواكه!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">7</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">300</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">60</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Pressure: Time is tight"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"ضغط: الوقت ضيق"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">8</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">350</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">55</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.28</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Crazy: Bomb crisis"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"جنون: أزمة قنابل"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">9</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space">  </span>duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">25</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">300</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">50</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.30</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Extreme: Don't blink"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"قصوى: لا ترمش"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> id</span><span class="s8">:</span><span class="s1"> </span><span class="s12">10</span><span class="s8">,</span><span class="s1"> duration</span><span class="s8">:</span><span class="s1"> </span><span class="s12">25</span><span class="s8">,</span><span class="s1"> target</span><span class="s8">:</span><span class="s1"> </span><span class="s12">400</span><span class="s8">,</span><span class="s1"> spawnRate</span><span class="s8">:</span><span class="s1"> </span><span class="s12">40</span><span class="s8">,</span><span class="s1"> bombChance</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.35</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                  </span>msg</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> en</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"Final Trial: Glory!"</span><span class="s8">,</span><span class="s4"> ar</span><span class="s8">:</span><span class="s4"> </span><span class="s1">"الاختبار النهائي: المجد!"</span><span class="s4"> </span><span class="s8">}</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">];</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> config </span><span class="s8">=</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gravity</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.08</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladeColor</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#00ffff'</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladeWidth</span><span class="s8">:</span><span class="s1"> </span><span class="s12">6</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladeLife</span><span class="s8">:</span><span class="s1"> </span><span class="s12">20</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>maxLives</span><span class="s8">:</span><span class="s1"> </span><span class="s12">3</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> fruitsData </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🍉'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#ff4d4d'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">10</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🍊'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#ffa500'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">10</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🍋'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#ffff00'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">10</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🥝'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#8ce600'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">15</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🥥'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#e6e6e6'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">20</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🍎'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#ff0000'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">10</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'🍇'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#800080'</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">:</span><span class="s1"> </span><span class="s12">15</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> bombData </span><span class="s8">=</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> emoji</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'💣'</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#333'</span><span class="s1"> </span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> canvas </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'gameCanvas'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> ctx </span><span class="s8">=</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">getContext</span><span class="s8">(</span><span class="s10">'2d'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> gameContainer </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'game-container'</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> scoreValEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'score-val'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> targetValEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'target-val'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> livesEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'lives'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> timerEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'timer'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> levelBadgeEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'level-badge'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> menuScreen </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'menu-screen'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> levelClearScreen </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'level-clear-screen'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> gameOverScreen </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'game-over-screen'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> victoryScreen </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'victory-screen'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> menuTargetEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'menu-target'</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> finalScoreEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'final-score'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> finalLevelEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'final-level'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> nextLevelNumEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'next-level-num'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> nextTargetEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'next-target'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> nextTimeEl </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'next-time'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> startBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'start-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> nextLevelBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'next-level-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> restartBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'restart-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> homeBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'home-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> levelHomeBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'level-home-btn'</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> victoryBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'victory-btn'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> videoInput </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'video-input'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> cameraPreview </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'camera-preview'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> cameraBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'camera-btn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> camLoading </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'cam-loading'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> camLoadingText </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'cam-loading-text'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> previewCtx </span><span class="s8">=</span><span class="s1"> cameraPreview</span><span class="s8">.</span><span class="s1">getContext</span><span class="s8">(</span><span class="s10">'2d'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentLevelIndex </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentLevelData </span><span class="s8">=</span><span class="s1"> levels</span><span class="s8">[</span><span class="s12">0</span><span class="s8">];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> gameRunning </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isVictory </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> score </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> lives </span><span class="s8">=</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> frameCount </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> timeLeft </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> timerInterval </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> animationId </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> entities </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> particles </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isCameraActive </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isHandDetected </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> handResults </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> hands </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> camera </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">setLang </span><span class="s8">=</span><span class="s1"> </span><span class="s11">function</span><span class="s8">(</span><span class="s1">lang</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>currentLang </span><span class="s8">=</span><span class="s1"> lang</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">documentElement</span><span class="s8">.</span><span class="s1">dir </span><span class="s8">=</span><span class="s1"> lang </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'ar'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'rtl'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">'ltr'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">documentElement</span><span class="s8">.</span><span class="s1">lang </span><span class="s8">=</span><span class="s1"> lang</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">querySelectorAll</span><span class="s8">(</span><span class="s10">'[data-t]'</span><span class="s8">).</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">el </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> key </span><span class="s8">=</span><span class="s1"> el</span><span class="s8">.</span><span class="s1">getAttribute</span><span class="s8">(</span><span class="s10">'data-t'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">translations</span><span class="s8">[</span><span class="s1">lang</span><span class="s8">][</span><span class="s1">key</span><span class="s8">])</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>el</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">lang</span><span class="s8">][</span><span class="s1">key</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">querySelectorAll</span><span class="s8">(</span><span class="s10">'.lang-btn'</span><span class="s8">).</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">btn </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>btn</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'active'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">btn</span><span class="s8">.</span><span class="s1">textContent</span><span class="s8">.</span><span class="s1">includes</span><span class="s8">(</span><span class="s1">lang </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'en'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'English'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">'العربية'</span><span class="s8">))</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>btn</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'active'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">currentLevelData</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> prefix </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">lang</span><span class="s8">].</span><span class="s1">levelPrefix</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>levelBadgeEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`</span><span class="s8">${</span><span class="s1">prefix</span><span class="s8">}</span><span class="s10"> </span><span class="s8">${</span><span class="s1">currentLevelData</span><span class="s8">.</span><span class="s1">id</span><span class="s8">}</span><span class="s10">`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Force resize to match actual visual viewport (fixes scroll issues on mobile)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> resize</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>width </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerWidth</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>height </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">innerHeight</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>canvas</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>canvas</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameContainer</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> height </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'px'</span><span class="s8">;</span><span class="s1"> </span><span class="s13">// Hard set height to prevent scroll</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'resize'</span><span class="s8">,</span><span class="s1"> resize</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'orientationchange'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> setTimeout</span><span class="s8">(</span><span class="s1">resize</span><span class="s8">,</span><span class="s1"> </span><span class="s12">200</span><span class="s8">);</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>resize</span><span class="s8">();</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">setLang</span><span class="s8">(</span><span class="s10">'en'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>menuTargetEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> levels</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">target</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> onResults</span><span class="s8">(</span><span class="s1">results</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>handResults </span><span class="s8">=</span><span class="s1"> results</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isCameraActive</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>cameraPreview</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> videoInput</span><span class="s8">.</span><span class="s1">videoWidth</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>cameraPreview</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> videoInput</span><span class="s8">.</span><span class="s1">videoHeight</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>previewCtx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>previewCtx</span><span class="s8">.</span><span class="s1">clearRect</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> cameraPreview</span><span class="s8">.</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> cameraPreview</span><span class="s8">.</span><span class="s1">height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>previewCtx</span><span class="s8">.</span><span class="s1">drawImage</span><span class="s8">(</span><span class="s1">results</span><span class="s8">.</span><span class="s1">image</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> cameraPreview</span><span class="s8">.</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> cameraPreview</span><span class="s8">.</span><span class="s1">height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">results</span><span class="s8">.</span><span class="s1">multiHandLandmarks</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">const</span><span class="s1"> landmarks </span><span class="s11">of</span><span class="s1"> results</span><span class="s8">.</span><span class="s1">multiHandLandmarks</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>drawConnectors</span><span class="s8">(</span><span class="s1">previewCtx</span><span class="s8">,</span><span class="s1"> landmarks</span><span class="s8">,</span><span class="s1"> </span><span class="s14">HAND_CONNECTIONS</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span><span class="s1">color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#00FF00'</span><span class="s8">,</span><span class="s1"> lineWidth</span><span class="s8">:</span><span class="s1"> </span><span class="s12">5</span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>drawLandmarks</span><span class="s8">(</span><span class="s1">previewCtx</span><span class="s8">,</span><span class="s1"> landmarks</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span><span class="s1">color</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'#FF0000'</span><span class="s8">,</span><span class="s1"> lineWidth</span><span class="s8">:</span><span class="s1"> </span><span class="s12">2</span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>previewCtx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">results</span><span class="s8">.</span><span class="s1">multiHandLandmarks </span><span class="s8">&amp;&amp;</span><span class="s1"> results</span><span class="s8">.</span><span class="s1">multiHandLandmarks</span><span class="s8">.</span><span class="s1">length </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isCameraActive </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s8">!</span><span class="s1">isHandDetected</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>isHandDetected </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>startBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>camLoading</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">camReady</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">gameRunning</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> landmarks </span><span class="s8">=</span><span class="s1"> results</span><span class="s8">.</span><span class="s1">multiHandLandmarks</span><span class="s8">[</span><span class="s12">0</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> indexTip </span><span class="s8">=</span><span class="s1"> landmarks</span><span class="s8">[</span><span class="s12">8</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> x </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s12">1</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> indexTip</span><span class="s8">.</span><span class="s1">x</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> width</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> y </span><span class="s8">=</span><span class="s1"> indexTip</span><span class="s8">.</span><span class="s1">y </span><span class="s8">*</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>addPathPoint</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> initCamera</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>camLoading</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>camLoadingText</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">camLoading</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>cameraBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>hands </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s14">Hands</span><span class="s8">({</span><span class="s1">locateFile</span><span class="s8">:</span><span class="s1"> </span><span class="s8">(</span><span class="s1">file</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s4"> </span><span class="s1">`https://cdn.jsdelivr.net/npm/@mediapipe/hands/</span><span class="s8">${</span><span class="s4">file</span><span class="s8">}</span><span class="s1">`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>hands</span><span class="s8">.</span><span class="s1">setOptions</span><span class="s8">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>maxNumHands</span><span class="s8">:</span><span class="s1"> </span><span class="s12">1</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>modelComplexity</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>minDetectionConfidence</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.5</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>minTrackingConfidence</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0.5</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>hands</span><span class="s8">.</span><span class="s1">onResults</span><span class="s8">(</span><span class="s1">onResults</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>camera </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s14">Camera</span><span class="s8">(</span><span class="s1">videoInput</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>onFrame</span><span class="s8">:</span><span class="s1"> </span><span class="s11">async</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">await</span><span class="s1"> hands</span><span class="s8">.</span><span class="s1">send</span><span class="s8">({</span><span class="s1">image</span><span class="s8">:</span><span class="s1"> videoInput</span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>width</span><span class="s8">:</span><span class="s1"> </span><span class="s12">480</span><span class="s8">,</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>height</span><span class="s8">:</span><span class="s1"> </span><span class="s12">360</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>camera</span><span class="s8">.</span><span class="s1">start</span><span class="s8">()</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">.</span><span class="s1">then</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>isCameraActive </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraPreview</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>camLoadingText</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">camWaitHand</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"✋ Show Hand to Start"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">background </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"#333"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Camera started"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">.</span><span class="s11">catch</span><span class="s8">(</span><span class="s1">err </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>console</span><span class="s8">.</span><span class="s1">error</span><span class="s8">(</span><span class="s1">err</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>camLoading</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>camLoadingText</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">camError </span><span class="s8">+</span><span class="s1"> </span><span class="s10">" ("</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> err</span><span class="s8">.</span><span class="s1">name </span><span class="s8">+</span><span class="s1"> </span><span class="s10">")"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">btnCamera</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>cameraBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>startBtn</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'block'</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>cameraBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">isCameraActive</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>initCamera</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">class</span><span class="s1"> </span><span class="s14">Point</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> x</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> y</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">life </span><span class="s8">=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">bladeLife</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">class</span><span class="s1"> </span><span class="s14">Particle</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">constructor</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> speed</span><span class="s8">,</span><span class="s1"> size</span><span class="s8">,</span><span class="s1"> isText </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">,</span><span class="s1"> text </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> x</span><span class="s8">;</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> y</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> angle </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s14">PI</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vx </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">cos</span><span class="s8">(</span><span class="s1">angle</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> speed</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sin</span><span class="s8">(</span><span class="s1">angle</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> speed</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> color</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">alpha </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">decay </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.02</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">0.015</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">gravity </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0.15</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">size </span><span class="s8">=</span><span class="s1"> size</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">isText </span><span class="s8">=</span><span class="s1"> isText</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">text </span><span class="s8">=</span><span class="s1"> text</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">vx</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">gravity</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">alpha </span><span class="s8">-=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">decay</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">globalAlpha </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">max</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">alpha</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">isText</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">font </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`bold </span><span class="s8">${</span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">}</span><span class="s10">px Arial`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">fillText</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">text</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">color</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">arc</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">size</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s14">PI</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">2</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">globalAlpha </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">class</span><span class="s1"> </span><span class="s14">Entity</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">constructor</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius </span><span class="s8">=</span><span class="s1"> </span><span class="s12">45</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">rotation </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">rotationSpeed </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s12">0.5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.2</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">active </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">sliced </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> rand </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> g </span><span class="s8">=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">gravity</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> h </span><span class="s8">=</span><span class="s1"> height</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> w </span><span class="s8">=</span><span class="s1"> width</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">let</span><span class="s1"> spawnX</span><span class="s8">,</span><span class="s1"> spawnY</span><span class="s8">,</span><span class="s1"> velocityX</span><span class="s8">,</span><span class="s1"> velocityY</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rand </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.30</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 1. Left (Low Arc: Peak &lt;= Top) - Start at bottom-left corner area</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span><span class="s1"> </span><span class="s13">// Start within left 25%</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">+</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">;</span><span class="s1"> </span><span class="s13">// Below screen</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Target a peak within 15%-40% from top</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetPeakY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.15</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> heightDelta </span><span class="s8">=</span><span class="s1"> spawnY </span><span class="s8">-</span><span class="s1"> targetPeakY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> g </span><span class="s8">*</span><span class="s1"> heightDelta</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Calculate time to land at height h (ground)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> airTime </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">velocityY</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> g</span><span class="s8">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Land on right side (width * 0.6 to width)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityX </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> spawnX</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> airTime</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rand </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.45</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 2. Left (High Arc: Peak &gt; Top)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">+</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Target peak ABOVE screen (negative Y)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetPeakY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s1">h </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.05</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.15</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> heightDelta </span><span class="s8">=</span><span class="s1"> spawnY </span><span class="s8">-</span><span class="s1"> targetPeakY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> g </span><span class="s8">*</span><span class="s1"> heightDelta</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> airTime </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">velocityY</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> g</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityX </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> spawnX</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> airTime</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rand </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.75</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 3. Right (Low Arc: Peak &lt;= Top) - Start at bottom-right corner area</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.75</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span><span class="s1"> </span><span class="s13">// Start within right 25%</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">+</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetPeakY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.15</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> heightDelta </span><span class="s8">=</span><span class="s1"> spawnY </span><span class="s8">-</span><span class="s1"> targetPeakY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> g </span><span class="s8">*</span><span class="s1"> heightDelta</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> airTime </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">velocityY</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> g</span><span class="s8">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Land on left side (0 to width * 0.4)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityX </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> spawnX</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> airTime</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">rand </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.90</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 4. Right (High Arc: Peak &gt; Top)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.75</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.25</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">+</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetPeakY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s1">h </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.05</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.15</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> heightDelta </span><span class="s8">=</span><span class="s1"> spawnY </span><span class="s8">-</span><span class="s1"> targetPeakY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> g </span><span class="s8">*</span><span class="s1"> heightDelta</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> airTime </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">velocityY</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> g</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityX </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">targetX </span><span class="s8">-</span><span class="s1"> spawnX</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> airTime</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 5. Bottom Center -&gt; Up</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnX </span><span class="s8">=</span><span class="s1"> w </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.3</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">);</span><span class="s1"> </span><span class="s13">// Center 40%</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>spawnY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">+</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> targetPeakY </span><span class="s8">=</span><span class="s1"> h </span><span class="s8">*</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.3</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> heightDelta </span><span class="s8">=</span><span class="s1"> spawnY </span><span class="s8">-</span><span class="s1"> targetPeakY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityY </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">(</span><span class="s12">2</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> g </span><span class="s8">*</span><span class="s1"> heightDelta</span><span class="s8">);</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Small horizontal drift</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>velocityX </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s12">0.5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> spawnX</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> spawnY</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vx </span><span class="s8">=</span><span class="s1"> velocityX</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">=</span><span class="s1"> velocityY</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> isBomb </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">bombChance</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isBomb</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">type </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'bomb'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">data </span><span class="s8">=</span><span class="s1"> bombData</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">type </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'fruit'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">data </span><span class="s8">=</span><span class="s1"> fruitsData</span><span class="s8">[</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> fruitsData</span><span class="s8">.</span><span class="s1">length</span><span class="s8">)];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>update</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">vx</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">+=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">gravity</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">rotation </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">rotationSpeed</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">y </span><span class="s8">&gt;</span><span class="s1"> height </span><span class="s8">+</span><span class="s1"> </span><span class="s12">200</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s8">-</span><span class="s12">200</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">x </span><span class="s8">&gt;</span><span class="s1"> width </span><span class="s8">+</span><span class="s1"> </span><span class="s12">200</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">active </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">save</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">translate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">rotate</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">rotation</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">font </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"60px Segoe UI Emoji"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">textAlign </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"center"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">textBaseline </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"middle"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"#fff"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">fillText</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">data</span><span class="s8">.</span><span class="s1">emoji</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">5</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>ctx</span><span class="s8">.</span><span class="s1">restore</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>slice</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">sliced </span><span class="s8">||</span><span class="s1"> </span><span class="s8">!</span><span class="s11">this</span><span class="s8">.</span><span class="s1">active</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">sliced </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">this</span><span class="s8">.</span><span class="s1">active </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">type </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'bomb'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>createExplosion</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>document</span><span class="s8">.</span><span class="s1">body</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'shake-effect'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>document</span><span class="s8">.</span><span class="s1">body</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'shake-effect'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">},</span><span class="s1"> </span><span class="s12">500</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>loseLife</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>score </span><span class="s8">+=</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">data</span><span class="s8">.</span><span class="s1">points</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>updateScoreDisplay</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>createSliceEffects</span><span class="s8">(</span><span class="s11">this</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">y</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">data</span><span class="s8">.</span><span class="s1">color</span><span class="s8">,</span><span class="s1"> </span><span class="s11">this</span><span class="s8">.</span><span class="s1">data</span><span class="s8">.</span><span class="s1">emoji</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>checkLevelWin</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> startLevel</span><span class="s8">(</span><span class="s1">levelIndex</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>currentLevelIndex </span><span class="s8">=</span><span class="s1"> levelIndex</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>currentLevelData </span><span class="s8">=</span><span class="s1"> levels</span><span class="s8">[</span><span class="s1">currentLevelIndex</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>score </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>lives </span><span class="s8">=</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timeLeft </span><span class="s8">=</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">duration</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>entities </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>frameCount </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameRunning </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>isVictory </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> prefix </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">levelPrefix</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelBadgeEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`</span><span class="s8">${</span><span class="s1">prefix</span><span class="s8">}</span><span class="s10"> </span><span class="s8">${</span><span class="s1">currentLevelData</span><span class="s8">.</span><span class="s1">id</span><span class="s8">}</span><span class="s10">`</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateScoreDisplay</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateLivesDisplay</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateTimerDisplay</span><span class="s8">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>menuScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelClearScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameOverScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>victoryScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">body</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'shake-effect'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">timerInterval</span><span class="s8">)</span><span class="s1"> clearInterval</span><span class="s8">(</span><span class="s1">timerInterval</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timerInterval </span><span class="s8">=</span><span class="s1"> setInterval</span><span class="s8">(</span><span class="s1">tickTimer</span><span class="s8">,</span><span class="s1"> </span><span class="s12">1000</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">animationId</span><span class="s8">)</span><span class="s1"> cancelAnimationFrame</span><span class="s8">(</span><span class="s1">animationId</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>loop</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> tickTimer</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">gameRunning</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timeLeft</span><span class="s8">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateTimerDisplay</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">timeLeft </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">score </span><span class="s8">&gt;=</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">target</span><span class="s8">)</span><span class="s1"> levelComplete</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">else</span><span class="s1"> gameOver</span><span class="s8">(</span><span class="s11">false</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> checkLevelWin</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">score </span><span class="s8">&gt;=</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">target</span><span class="s8">)</span><span class="s1"> levelComplete</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> levelComplete</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameRunning </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>clearInterval</span><span class="s8">(</span><span class="s1">timerInterval</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">currentLevelIndex </span><span class="s8">&gt;=</span><span class="s1"> levels</span><span class="s8">.</span><span class="s1">length </span><span class="s8">-</span><span class="s1"> </span><span class="s12">1</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>isVictory </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>victoryScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> nextLv </span><span class="s8">=</span><span class="s1"> levels</span><span class="s8">[</span><span class="s1">currentLevelIndex </span><span class="s8">+</span><span class="s1"> </span><span class="s12">1</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>nextLevelNumEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> nextLv</span><span class="s8">.</span><span class="s1">id</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>nextTargetEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> nextLv</span><span class="s8">.</span><span class="s1">target</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>nextTimeEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> nextLv</span><span class="s8">.</span><span class="s1">duration </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'s'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>levelClearScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> gameOver</span><span class="s8">(</span><span class="s1">isBomb</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameRunning </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>clearInterval</span><span class="s8">(</span><span class="s1">timerInterval</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> prefix </span><span class="s8">=</span><span class="s1"> translations</span><span class="s8">[</span><span class="s1">currentLang</span><span class="s8">].</span><span class="s1">levelPrefix</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>finalLevelEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`</span><span class="s8">${</span><span class="s1">prefix</span><span class="s8">}</span><span class="s10"> </span><span class="s8">${</span><span class="s1">currentLevelData</span><span class="s8">.</span><span class="s1">id</span><span class="s8">}</span><span class="s10">`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>finalScoreEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> score</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameOverScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isBomb</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>document</span><span class="s8">.</span><span class="s1">body</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'shake-effect'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>createExplosion</span><span class="s8">(</span><span class="s1">width</span><span class="s8">/</span><span class="s12">2</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">/</span><span class="s12">2</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> loseLife</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>lives</span><span class="s8">--;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateLivesDisplay</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">lives </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> gameOver</span><span class="s8">(</span><span class="s11">false</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> updateScoreDisplay</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>scoreValEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> score</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>targetValEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">target</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">score </span><span class="s8">&gt;=</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">target</span><span class="s8">)</span><span class="s1"> scoreValEl</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#4dff4d'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> scoreValEl</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">color </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'#ffd700'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> updateLivesDisplay</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> hearts </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">lives</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> hearts </span><span class="s8">+=</span><span class="s1"> </span><span class="s10">'❤️'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s1">lives</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">config</span><span class="s8">.</span><span class="s1">maxLives</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> hearts </span><span class="s8">+=</span><span class="s1"> </span><span class="s10">'🖤'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>livesEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> hearts</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> updateTimerDisplay</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>timerEl</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> timeLeft</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">timeLeft </span><span class="s8">&lt;=</span><span class="s1"> </span><span class="s12">10</span><span class="s8">)</span><span class="s1"> timerEl</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'warning'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">else</span><span class="s1"> timerEl</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'warning'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> createSliceEffects</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> emoji</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">15</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">5</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">2</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">3</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">2</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> p1 </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> </span><span class="s12">4</span><span class="s8">,</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> </span><span class="s11">true</span><span class="s8">,</span><span class="s1"> emoji</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>p1</span><span class="s8">.</span><span class="s1">vx </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s12">3</span><span class="s8">;</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s12">3</span><span class="s8">;</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">rotationSpeed </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s12">0.1</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s1">p1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> p2 </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> </span><span class="s12">4</span><span class="s8">,</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> </span><span class="s11">true</span><span class="s8">,</span><span class="s1"> emoji</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>p2</span><span class="s8">.</span><span class="s1">vx </span><span class="s8">=</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span><span class="s1"> p2</span><span class="s8">.</span><span class="s1">vy </span><span class="s8">=</span><span class="s1"> </span><span class="s8">-</span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s1">p2</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y </span><span class="s8">-</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> </span><span class="s10">'#FFD700'</span><span class="s8">,</span><span class="s1"> </span><span class="s12">1</span><span class="s8">,</span><span class="s1"> </span><span class="s12">48</span><span class="s8">,</span><span class="s1"> </span><span class="s11">true</span><span class="s8">,</span><span class="s1"> </span><span class="s10">'+'</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> fruitsData</span><span class="s8">.</span><span class="s1">find</span><span class="s8">(</span><span class="s1">f</span><span class="s8">=&gt;</span><span class="s1">f</span><span class="s8">.</span><span class="s1">emoji</span><span class="s8">===</span><span class="s1">emoji</span><span class="s8">).</span><span class="s1">points</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> createExplosion</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">50</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> </span><span class="s10">'#fff'</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">15</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">5</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">2</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> </span><span class="s10">'#ff4444'</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">10</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">4</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">2</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> createFirework</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s4"> colors </span><span class="s8">=</span><span class="s4"> </span><span class="s8">[</span><span class="s1">'#ff0044'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#00ff44'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#4400ff'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#ffff00'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#00ffff'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#ff00ff'</span><span class="s8">,</span><span class="s4"> </span><span class="s1">'#ffffff'</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> color </span><span class="s8">=</span><span class="s1"> colors</span><span class="s8">[</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> colors</span><span class="s8">.</span><span class="s1">length</span><span class="s8">)];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">60</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">let</span><span class="s1"> p </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s14">Particle</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">,</span><span class="s1"> color</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">6</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">2</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">3</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>p</span><span class="s8">.</span><span class="s1">decay </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.01</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">0.005</span><span class="s8">;</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">gravity </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0.05</span><span class="s8">;</span><span class="s1"> particles</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s1">p</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> checkCollisions</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">bladePath</span><span class="s8">.</span><span class="s1">length </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">2</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> p1 </span><span class="s8">=</span><span class="s1"> bladePath</span><span class="s8">[</span><span class="s1">bladePath</span><span class="s8">.</span><span class="s1">length </span><span class="s8">-</span><span class="s1"> </span><span class="s12">2</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> p2 </span><span class="s8">=</span><span class="s1"> bladePath</span><span class="s8">[</span><span class="s1">bladePath</span><span class="s8">.</span><span class="s1">length </span><span class="s8">-</span><span class="s1"> </span><span class="s12">1</span><span class="s8">];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>entities</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">entity </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">entity</span><span class="s8">.</span><span class="s1">active </span><span class="s8">||</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">sliced</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> distSq </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">p1</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">x</span><span class="s8">)**</span><span class="s12">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s1">p1</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">y</span><span class="s8">)**</span><span class="s12">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">distSq </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">25000</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> dist1 </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">hypot</span><span class="s8">(</span><span class="s1">p1</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> dist2 </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">hypot</span><span class="s8">(</span><span class="s1">p2</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> p2</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dist1 </span><span class="s8">&lt;</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">radius </span><span class="s8">||</span><span class="s1"> dist2 </span><span class="s8">&lt;</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>entity</span><span class="s8">.</span><span class="s1">slice</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s11">const</span><span class="s1"> step </span><span class="s8">=</span><span class="s1"> </span><span class="s12">5</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s11">const</span><span class="s1"> dx </span><span class="s8">=</span><span class="s1"> p2</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s11">const</span><span class="s1"> dy </span><span class="s8">=</span><span class="s1"> p2</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s11">const</span><span class="s1"> len </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">hypot</span><span class="s8">(</span><span class="s1">dx</span><span class="s8">,</span><span class="s1"> dy</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;=</span><span class="s1">len</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">+=</span><span class="s1">step</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                           </span></span><span class="s11">const</span><span class="s1"> tx </span><span class="s8">=</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dx</span><span class="s8">/</span><span class="s1">len</span><span class="s8">)*</span><span class="s1">i</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                           </span></span><span class="s11">const</span><span class="s1"> ty </span><span class="s8">=</span><span class="s1"> p1</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dy</span><span class="s8">/</span><span class="s1">len</span><span class="s8">)*</span><span class="s1">i</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                           </span></span><span class="s11">if</span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">hypot</span><span class="s8">(</span><span class="s1">tx </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> ty </span><span class="s8">-</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> entity</span><span class="s8">.</span><span class="s1">radius</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                               </span>entity</span><span class="s8">.</span><span class="s1">slice</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                               </span></span><span class="s11">break</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                           </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                       </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> loop</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">clearRect</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> height</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'rgba(255, 255, 255, 0.1)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">width</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">+=</span><span class="s12">100</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">i</span><span class="s8">,</span><span class="s12">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">i</span><span class="s8">,</span><span class="s1">height</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">height</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">+=</span><span class="s12">100</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1">i</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">width</span><span class="s8">,</span><span class="s1">i</span><span class="s8">);</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isVictory</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.05</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>createFirework</span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> width</span><span class="s8">,</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> height </span><span class="s8">*</span><span class="s1"> </span><span class="s12">0.6</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">gameRunning</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>frameCount</span><span class="s8">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">frameCount </span><span class="s8">%</span><span class="s1"> currentLevelData</span><span class="s8">.</span><span class="s1">spawnRate </span><span class="s8">===</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">let</span><span class="s1"> batchSize </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">currentLevelIndex </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">2</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.4</span><span class="s8">)</span><span class="s1"> batchSize </span><span class="s8">=</span><span class="s1"> </span><span class="s12">2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">currentLevelIndex </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">6</span><span class="s1"> </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">0.3</span><span class="s8">)</span><span class="s1"> batchSize </span><span class="s8">=</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">for</span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">batchSize</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>entities</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Entity</span><span class="s8">());</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>entities </span><span class="s8">=</span><span class="s1"> entities</span><span class="s8">.</span><span class="s1">filter</span><span class="s8">(</span><span class="s1">e </span><span class="s8">=&gt;</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">active</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>entities</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">e </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">update</span><span class="s8">();</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">draw</span><span class="s8">();</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles </span><span class="s8">=</span><span class="s1"> particles</span><span class="s8">.</span><span class="s1">filter</span><span class="s8">(</span><span class="s1">p </span><span class="s8">=&gt;</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">alpha </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>particles</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">p </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">update</span><span class="s8">();</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">draw</span><span class="s8">();</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">bladePath</span><span class="s8">.</span><span class="s1">length </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>bladePath</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">p </span><span class="s8">=&gt;</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">life</span><span class="s8">--);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>bladePath </span><span class="s8">=</span><span class="s1"> bladePath</span><span class="s8">.</span><span class="s1">filter</span><span class="s8">(</span><span class="s1">p </span><span class="s8">=&gt;</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">life </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">bladePath</span><span class="s8">.</span><span class="s1">length </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">bladePath</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> bladePath</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> bladePath</span><span class="s8">.</span><span class="s1">length</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">bladePath</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> bladePath</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Optimized Blade: Manual Glow (No shadowBlur)</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 1. Draw outer glow (wide, transparent)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"rgba(0, 255, 255, 0.3)"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">bladeWidth </span><span class="s8">*</span><span class="s1"> </span><span class="s12">2.5</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">lineCap </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'round'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">lineJoin </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'round'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// 2. Draw inner core (thin, solid)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">bladeColor</span><span class="s8">;</span><span class="s1"> </span><span class="s13">// '#00ffff'</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> config</span><span class="s8">.</span><span class="s1">bladeWidth</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>animationId </span><span class="s8">=</span><span class="s1"> requestAnimationFrame</span><span class="s8">(</span><span class="s1">loop</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> addPathPoint</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladePath</span><span class="s8">.</span><span class="s1">push</span><span class="s8">(</span><span class="s11">new</span><span class="s1"> </span><span class="s14">Point</span><span class="s8">(</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">gameRunning</span><span class="s8">)</span><span class="s1"> checkCollisions</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isMouseDown </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'mousedown'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">target</span><span class="s8">.</span><span class="s1">tagName </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'BUTTON'</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>isMouseDown </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>addPathPoint</span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">clientX</span><span class="s8">,</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'mousemove'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isMouseDown</span><span class="s8">)</span><span class="s1"> addPathPoint</span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">clientX</span><span class="s8">,</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'mouseup'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> isMouseDown </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span><span class="s1"> bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'touchstart'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">target</span><span class="s8">.</span><span class="s1">tagName </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'BUTTON'</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">.</span><span class="s1">length</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>addPathPoint</span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">clientX</span><span class="s8">,</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">clientY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1">passive</span><span class="s8">:</span><span class="s1"> </span><span class="s11">false</span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'touchmove'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">preventDefault</span><span class="s8">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">for</span><span class="s1"> </span><span class="s8">(</span><span class="s11">let</span><span class="s1"> i </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i </span><span class="s8">&lt;</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">.</span><span class="s1">length</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">++)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>addPathPoint</span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">clientX</span><span class="s8">,</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">changedTouches</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">clientY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1">passive</span><span class="s8">:</span><span class="s1"> </span><span class="s11">false</span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'touchend'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> bladePath </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[];</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>startBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startLevel</span><span class="s8">(</span><span class="s12">0</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>nextLevelBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startLevel</span><span class="s8">(</span><span class="s1">currentLevelIndex </span><span class="s8">+</span><span class="s1"> </span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>restartBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startLevel</span><span class="s8">(</span><span class="s12">0</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>homeBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>gameOverScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>menuScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// New level home listener</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>levelHomeBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>levelClearScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">add</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>menuScreen</span><span class="s8">.</span><span class="s1">classList</span><span class="s8">.</span><span class="s1">remove</span><span class="s8">(</span><span class="s10">'hidden'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>victoryBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>e</span><span class="s8">.</span><span class="s1">stopPropagation</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>startLevel</span><span class="s8">(</span><span class="s12">0</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">})();</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
